// ===================================
// 自定义样式 - 简洁协调版
// ===================================

// 主题颜色定义
$primary-color = #0e83cd
$primary-hover = #0a6ba8
$text-color = #333
$text-light = #666
$border-color = #e5e5e5
$bg-light = #f8f8f8

// 侧边栏头部统计信息样式
.site-header-stats {
  display: flex
  justify-content: center
  gap: 25px
  margin-top: 15px
  padding-top: 12px
  border-top: 1px solid rgba(255, 255, 255, 0.2)
  
  .site-header-stat {
    text-align: center
    text-decoration: none
    transition: opacity 0.2s
    
    &:hover {
      opacity: 0.8
    }
    
    .site-header-stat-num {
      display: block
      font-size: 20px
      font-weight: 700
      color: #fff
      line-height: 1.2
    }
    
    .site-header-stat-label {
      font-size: 12px
      color: rgba(255, 255, 255, 0.7)
    }
  }
}

// 侧边栏同分类文章卡片（独立卡片，仅文章详情页显示）
.sidebar-category-articles {
  margin-top: 15px
  padding: 15px
  font-size: 0.875em  // 与文章目录字体大小一致
  
  .category-articles-card {
    .category-articles-title {
      font-size: 1em
      font-weight: 600
      color: #555
      margin-bottom: 12px
      padding-bottom: 8px
      border-bottom: 1px solid #eee
      
      i {
        margin-right: 6px
        color: $primary-color
      }
      
      .category-articles-count {
        font-size: 0.85em
        font-weight: normal
        color: #888
        margin-left: 5px
      }
    }
    
    .category-articles-list {
      list-style: none
      margin: 0
      padding: 0
      
      .category-articles-item {
        margin: 4px 0
        padding: 4px 8px
        border-radius: 3px
        line-height: 1.8  // 与文章目录行高一致
        transition: background 0.2s
        
        a {
          display: block
          font-size: 1em  // 继承父级字体大小
          color: #555
          text-decoration: none
          border: none !important
          transition: color 0.2s
          
          &:hover {
            color: $primary-color
          }
        }
        
        &.current-post {
          background: rgba(14, 131, 205, 0.1)
          
          a.current {
            color: $primary-color !important
            font-weight: 600
          }
        }
      }
    }
  }
}

// 暗色模式 - 同分类文章卡片
html[data-theme="dark"] {
  .sidebar-category-articles {
    .category-articles-title {
      color: #ccc
      border-bottom-color: #444
    }
    
    .category-articles-list .category-articles-item {
      a {
        color: #bbb
        
        &:hover {
          color: #4a9eff
        }
      }
      
      &.current-post {
        background: rgba(74, 158, 255, 0.15)
        
        a.current {
          color: #4a9eff !important
        }
      }
    }
  }
}

// 侧边栏分类文章列表
.category-section {
  margin-bottom: 15px
  
  .category-title {
    font-size: 14px
    font-weight: 600
    color: #555
    margin: 8px 0 6px 0
    padding: 4px 0
    border-bottom: 1px solid #eee
    
    i {
      margin-right: 5px
      color: $primary-color
    }
  }
  
  .links-of-blogroll-list {
    margin: 0
    padding: 0 0 0 12px
    list-style: none
    
    .links-of-blogroll-item {
      margin: 4px 0
      line-height: 1.5
      
      a {
        font-size: 13px
        color: #555
        transition: all 0.25s ease
        
        &:hover {
          color: $primary-color
          padding-left: 6px
        }
      }
    }
  }
}

// 站点概览中的所有文章列表悬停效果
.site-overview-wrap {
  .links-of-blogroll-list {
    .links-of-blogroll-item {
      padding: 3px 6px
      margin: 2px 0
      border-radius: 4px
      transition: all 0.25s ease
      
      a {
        display: block
        transition: all 0.25s ease
        border: none !important
        
        &:hover {
          color: $primary-color
        }
      }
      
      &:hover {
        background: rgba(14, 131, 205, 0.08)
        transform: translateX(4px)
      }
    }
  }
}

// 文章卡片
.post {
  margin-bottom: 20px
  
  &:hover {
    // 移除悬停上浮效果
  }
}

// ====================================
// 首页 README 卡片样式（独立命名空间）
// ====================================
.readme-welcome-card {
  background: #fafafa
  border: 1px solid #e0e0e0
  border-left: 4px solid #333
  border-radius: 8px
  margin-bottom: 30px
  padding: 0
  // 性能优化：启用 GPU 加速，减少重绘
  transform: translateZ(0)
  backface-visibility: hidden
  will-change: auto
  contain: layout style paint
  
  .readme-welcome-header {
    background: #333
    color: #fff
    padding: 15px 20px
    font-size: 18px
    font-weight: 600
    border-radius: 4px 4px 0 0
    
    i {
      margin-right: 10px
    }
  }
  
  .readme-welcome-content {
    padding: 20px
  }
  
  .readme-welcome-intro {
    font-size: 15px
    color: #555
    line-height: 1.8
    margin: 0 0 20px 0
    padding: 0
  }
  
  .readme-category-nav {
    .readme-category-title {
      font-size: 16px
      font-weight: 600
      color: #333
      padding-bottom: 10px
      margin-bottom: 15px
      border-bottom: 2px solid #ddd
      
      i {
        margin-right: 8px
        color: #555
      }
    }
  }
  
  .readme-category-item {
    margin-bottom: 15px
    
    .readme-category-name {
      font-size: 15px
      font-weight: 600
      color: #333
      margin-bottom: 8px
      
      i {
        margin-right: 6px
        color: #666
      }
      
      .readme-category-count {
        font-size: 13px
        color: #888
        font-weight: normal
        margin-left: 5px
      }
    }
  }
  
  .readme-article-list {
    list-style: none
    margin: 0
    padding: 0 0 0 20px
    border: none !important
    
    .readme-article-item {
      margin: 4px 0
      padding: 4px 8px
      border: none !important
      border-bottom: none !important
      border-radius: 4px
      transition: all 0.25s ease
      
      a {
        display: block
        font-size: 14px
        color: #555
        text-decoration: none
        padding: 2px 0
        transition: all 0.25s ease
        border: none !important
        border-bottom: none !important
        
        &:hover {
          color: $primary-color
        }
        
        .readme-article-date {
          color: #999
          font-size: 12px
          margin-right: 10px
          transition: color 0.25s ease
        }
        
        .readme-article-title {
          color: inherit
        }
      }
      
      &:hover {
        background: rgba(14, 131, 205, 0.08)
        transform: translateX(4px)
        
        a {
          color: $primary-color
        }
        
        .readme-article-date {
          color: #666
        }
      }
    }
  }
  
  .readme-total-info {
    margin-top: 20px
    padding-top: 15px
    border-top: 1px solid #ddd
    text-align: center
    font-size: 14px
    color: #666
    
    i {
      margin-right: 6px
      color: #555
    }
  }
}

// 隐藏首页文章分隔线
.post-eof {
  display: none !important
}

// 首页文章列表样式
.posts-expand .post {
  .post-header {
    padding: 15px 20px 0
    
    .post-title {
      font-size: 24px
      font-weight: 600
      line-height: 1.3
      margin: 0 0 2px
    }
    
    .post-meta {
      font-size: 13px
      margin: 0
      line-height: 1.3
    }
  }
  
  .post-body {
    padding: 0 20px 15px
    font-size: 15px
    
    // 限制摘要显示两行
    p {
      display: -webkit-box
      -webkit-line-clamp: 1
      -webkit-box-orient: vertical
      overflow: hidden
      margin: 0
      line-height: 1
    }
  }
}

// 文章详情页样式
.post-header {
  padding: 15px 20px 0
  
  .post-title {
    font-size: 24px
    font-weight: 600
    line-height: 1.4
    margin: 0 0 5px
  }
  
  .post-meta {
    font-size: 13px
    margin: 0
  }
}

.post-body {
  padding: 5px 20px 15px
  font-size: 15px
  line-height: 1.7
  
  p {
    margin: 0.8em 0
  }
  
  h2, h3, h4 {
    margin-top: 1.2em
    margin-bottom: 0.6em
    font-weight: 600
    // 移除左侧装饰条
    padding-left: 0
    
    &:before {
      display: none
    }
  }
  
  blockquote {
    border-left: 3px solid $primary-color
    background: $bg-light
    padding: 10px 15px
    margin: 1em 0
  }
  
  code {
    background: $bg-light
    padding: 2px 6px
    border-radius: 3px
    font-size: 0.9em
  }
}

// 阅读更多按钮
.post-button {
  margin: 15px 0
  text-align: center
  
  .btn {
    display: inline-block
    padding: 8px 20px
    background: $primary-color
    color: #fff
    border-radius: 4px
    font-size: 14px
    transition: background 0.2s ease
    
    &:hover {
      background: $primary-hover
      // 移除上浮效果
    }
  }
}

// 侧边栏
.sidebar {
  .sidebar-inner {
    padding: 15px
  }
  
  .site-state {
    padding: 10px 0
    margin-bottom: 10px
    border-bottom: 1px solid $border-color
  }
}

// 标签云
.tag-cloud {
  a {
    display: inline-block
    margin: 3px
    padding: 4px 10px
    background: $bg-light
    border-radius: 3px
    font-size: 13px
    transition: all 0.2s ease
    
    &:hover {
      background: $primary-color
      color: #fff
      // 移除上浮效果
    }
  }
}

// 分页
.pagination {
  text-align: center
  margin: 25px 0
  
  .page-number,
  .extend {
    display: inline-block
    margin: 0 3px
    padding: 6px 12px
    border-radius: 3px
    background: $bg-light
    transition: all 0.2s ease
    
    &:hover {
      background: $primary-color
      color: #fff
      // 移除上浮效果
    }
    
    &.current {
      background: $primary-color
      color: #fff
    }
  }
}

// 页脚
.footer {
  padding: 20px 0
  margin-top: 40px
}

// 移除进场动画
.post,
.sidebar-inner {
  animation: none
}

// 响应式优化
@media (max-width: 768px) {
  .post-header {
    padding: 12px 15px 8px
    
    .post-title {
      font-size: 20px
    }
  }
  
  .post-body {
    padding: 12px 15px
    font-size: 14px
  }
  
  .sidebar {
    margin-top: 20px
  }
}

// 暗色模式适配
html[data-theme="dark"] {
  .readme-welcome-card {
    background: #1e1e1e
    border-color: #333
    border-left-color: #ccc
    
    .readme-welcome-header {
      background: #444
    }
    
    .readme-welcome-intro {
      color: #bbb
    }
    
    .readme-category-nav .readme-category-title {
      color: #e0e0e0
      border-bottom-color: #444
      
      i {
        color: #aaa
      }
    }
    
    .readme-category-item .readme-category-name {
      color: #ddd
      
      .readme-category-count {
        color: #888
      }
    }
    
    .readme-article-list .readme-article-item {
      &:hover {
        background: rgba(74, 158, 255, 0.12)
      }
      
      a {
        color: #bbb
        
        &:hover {
          color: #4a9eff
        }
        
        .readme-article-date {
          color: #777
        }
      }
    }
    
    .readme-total-info {
      border-top-color: #444
      color: #888
      
      i {
        color: #aaa
      }
    }
  }
  
  .category-section {
    .category-title {
      color: #ccc
      border-bottom-color: #333
    }
    
    .links-of-blogroll-list {
      .links-of-blogroll-item a {
        color: #ccc
        
        &:hover {
          color: #4a9eff
        }
      }
    }
  }
  
  .post,
  .sidebar .sidebar-inner {
    background: #2d2d2d
  }
  
  .post-body {
    blockquote {
      background: #333
      border-left-color: #4a9eff
    }
    
    code {
      background: #333
    }
  }
  
  .tag-cloud a {
    background: #333
    color: #ccc
    
    &:hover {
      background: #4a9eff
      color: #fff
    }
  }
  
  .pagination {
    .page-number,
    .extend {
      background: #333
      color: #ccc
      
      &:hover,
      &.current {
        background: #4a9eff
        color: #fff
      }
    }
  }
  
  // 暗色模式 - 站点概览文章列表悬停
  .site-overview-wrap {
    .links-of-blogroll-list .links-of-blogroll-item {
      &:hover {
        background: rgba(74, 158, 255, 0.12)
      }
      
      a:hover {
        color: #4a9eff
      }
    }
  }
}